package com.jsp.footmap.service;import com.jsp.footmap.dao.CommentDao;import com.jsp.footmap.model.Comment;import com.jsp.footmap.model.HostHolder;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.stereotype.Service;import java.util.Date;import java.util.List;@Servicepublic class CommentService {    @Autowired    private CommentDao commentDAO;    @Autowired    private ShareService shareService;    @Autowired    private HostHolder hostHolder;    public void addComment(int sid, String comment) {        Comment com = new Comment();        com.setSid(sid);        com.setComment(comment);        com.setCommentTime(new Date());        System.out.println(hostHolder.getUser());        com.setUid(hostHolder.getUser().getUid());        com.setStatus(1);        com.setReply("");        com.setReplyTime(null);        //根据sid查询到share,评论数+1        shareService.addCommentCount(sid);        commentDAO.addComment(com);    }    /**     * 得到当前share的所有评论     * @param sid     */    public List<Comment> getComments(int sid) {        return commentDAO.getComments(sid,1);    }    /**     * 新增回复     * @param cid     * @param reply     */    public void addReply(int cid, String reply) {        commentDAO.addReply(cid, reply, new Date());    }    public void deleComment(int cid) {        commentDAO.updateStatus(cid, 0);    }}