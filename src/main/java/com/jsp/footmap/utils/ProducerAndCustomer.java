package com.jsp.footmap.utils;import com.jsp.footmap.model.ArrayQueue;import java.util.concurrent.CountDownLatch;public class ProducerAndCustomer {    private static ArrayQueue<String> queue = new ArrayQueue<>(5);    public static CountDownLatch c = new CountDownLatch(2);    public static void main(String[] args) throws Exception{        for (int i = 0; i < 2; i++) {            Producer producer = new Producer();            producer.start();        }        c.await();        //测试 clearAll()        queue.clearAll();        for (int i = 0; i < 5; i++) {            Consumer consumer = new Consumer();            consumer.start();        }        for (int i = 0; i < 3; i++) {            Producer producer = new Producer();            producer.start();        }    }    private static class Producer extends Thread {        @Override        public void run() {            try {                queue.put("product");                c.countDown();            } catch (Exception e) {                e.printStackTrace();            }            System.out.println("produce....");        }    }    private static class Consumer extends Thread {        @Override        public void run() {            try {                String product = queue.get();            } catch (Exception e) {                e.printStackTrace();            }            System.out.println("consume...");        }    }}